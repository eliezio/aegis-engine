---
# ============LICENSE_START=======================================================
#  Copyright (C) 2019 The Nordix Foundation. All rights reserved.
# ================================================================================
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# SPDX-License-Identifier: Apache-2.0
# ============LICENSE_END=========================================================
idf:
  version: 0.1
  net_config: &net_config
    admin:
      interface: 0
      network: 10.1.0.0
      mask: 24
    public:
      interface: 1
      network: 10.2.0.0
      mask: 24
      gateway: 10.2.0.1
      # TODO: fix this so we can provide list of dns instead of single one
      dns: 8.8.8.8
    mgmt:
      interface: 2
      network: 10.3.0.0
      mask: 24
    neutron:
      interface: 3
      network: 10.4.0.0
      mask: 24
  kolla: &idf_kolla
    nodes_roles:
      node1: [controller]
      node2: [compute]
    groups:
      openstack:
        - controller
        - compute
    hostnames:
      node1: controller00
      node2: compute00
    network:
      # network mapping
      network_mapping:
        # Admin network
        net_admin: admin
        # Public network
        net_public: public
        # Management network used by installer components to communicate
        net_mgmt: mgmt
        # Internal network for communication between VNF
        net_neutron: neutron
  kubespray: &idf_kubespray
    nodes_roles:
      node1: [k8s-cluster, kube-master, etcd, vault]
      node2: [k8s-cluster, kube-node]
    groups:
      k8s-cluster:
        - kube-node
        - kube-master
    hostnames:
      node1: master1
      node2: node1
    network:
      # network mapping
      network_mapping:
        # Admin network
        net_admin: admin
        # Public network
        net_public: public
        # Management network used by installer components to communicate
        net_mgmt: mgmt
        # Internal network for communication between VNF
        net_neutron: neutron

engine:
  pod_name: vpod
  net_config: *net_config

  # net_config network to be used by the PXE
  pxe_network: admin

  # interface to be used by the PXE
  pxe_interface: br_admin

  installers:
    kolla: *idf_kolla
    kubespray: *idf_kubespray

# vim: set ts=2 sw=2 expandtab:
